import{j as e,a2 as re,B as l,ay as oe,h as i,k,az as ae,af as ne,ag as le,aA as W,ah as ie,C as ce,A as U,aB as Fe,al as Ie,ac as $,aC as ke,ae as ze,D as O,X as Q,aD as Ae,Y as de,aj as xe,U as T,I as q,a as $e,at as B,aE as Te,aF as Be,aG as he,aH as Ee,aI as We,T as me,aJ as Le,aK as ue,q as Me,ai as Ue,c as Oe,a8 as Y,p as Re,r as Ne,o as _e,aL as Ge,b as Ye,a0 as He,i as Je,u as Ke,d as Qe,Q as qe,aM as Ve,aN as Xe,y as Ze,S as et}from"./mui-vendor-D4OjBZQt.js";import{a as y}from"./react-vendor-DYr15v6v.js";import{u as tt,a as H,l as st,t as rt,v as ot,n as at,w as nt,x as J,y as ee,z as te,A as lt,B as it,C as ct,D as dt,E as xt,F as ht}from"./index-BIOtAz8Z.js";import{d as pe,p as K}from"./pdfStorageService-CPryU-Rx.js";import{L as mt,A as ut,D as pt}from"./AdapterDateFns-ChDwltzC.js";import"./redux-vendor-CLOwJCHO.js";import"./firebase-vendor-OxXAdhiL.js";import"./utils-vendor-CFocuF-S.js";import"./pdf-vendor-CApBJrGQ.js";import"./endOfMonth-CrccTSkP.js";function gt(s,o){const r=document.createElement("a");document.body.appendChild(r),r.style.display="none",r.href=o,r.target="_blank",r.download="pdf-merged-"+Date.now(),r.click(),document.body.removeChild(r),s.preventDefault()}const ft=({pdfUrl:s})=>e.jsx(re,{sx:{p:{xs:2,sm:3},mb:{xs:3,sm:4},display:"flex",flexDirection:{xs:"column",sm:"row"},alignItems:"center",justifyContent:"center",gap:{xs:2,sm:3}},children:s&&e.jsxs(l,{sx:{textAlign:"center",width:"100%"},children:[e.jsx(oe,{sx:{fontSize:{xs:28,sm:32},color:"primary.main",mb:1}}),e.jsx(i,{variant:"subtitle2",color:"text.secondary",gutterBottom:!0,children:"Download Merged Labels"}),e.jsx(k,{variant:"contained",color:"primary",href:s,startIcon:e.jsx(ae,{}),onClick:o=>gt(o,s),sx:{minWidth:{xs:"100%",sm:200},width:{xs:"100%",sm:"auto"}},children:"Download PDF"})]})}),yt=({url:s,pdfUrl:o})=>{const r=s||o||"";return e.jsx(l,{sx:{width:"100%",height:"100%",overflow:"hidden"},children:e.jsx("iframe",{src:r,width:"100%",height:"100%",style:{border:"none",display:"block"},title:"PDF Preview"})})},jt=({open:s,onClose:o,onConfirm:r,fileName:b,products:C,categories:d,isUploading:x})=>{const[w,P]=y.useState(pe),[p,F]=y.useState(""),h=C.filter(c=>c.categoryId&&c.categoryId.trim()!==""),I=new Set(h.map(c=>c.categoryId)),D={totalProducts:C.length,totalCategories:d.length,categorizedProducts:h.length,categoriesWithProducts:I.size},g=c=>{const t=parseInt(c.target.value);P(a=>({...a,expiryDays:isNaN(t)||t<1?1:t>90?90:t}))},j=c=>{F(c.target.value)},f=()=>{r({...w,description:p.trim()||`Sorted PDF with ${D.totalProducts} products across ${D.categoriesWithProducts} categories`})};return e.jsxs(ne,{open:s,onClose:x?void 0:o,maxWidth:"sm",fullWidth:!0,PaperProps:{sx:{borderRadius:2,boxShadow:10}},children:[e.jsxs(le,{sx:{display:"flex",alignItems:"center",bgcolor:"primary.main",color:"white"},children:[e.jsx(W,{sx:{mr:1}}),"Save to Cloud Storage"]}),e.jsx(ie,{sx:{pt:3},children:x?e.jsxs(l,{sx:{display:"flex",flexDirection:"column",alignItems:"center",py:4},children:[e.jsx(ce,{size:60}),e.jsx(i,{variant:"h6",sx:{mt:2},children:"Uploading PDF to Storage..."}),e.jsx(i,{variant:"body2",color:"text.secondary",sx:{mt:1},children:"Please wait while your file is being uploaded"})]}):e.jsxs(e.Fragment,{children:[e.jsx(U,{severity:"info",sx:{mb:3},children:"Your PDF will be stored in the cloud and automatically sorted by category."}),e.jsxs(l,{sx:{mb:3},children:[e.jsx(i,{variant:"subtitle1",fontWeight:"bold",gutterBottom:!0,children:"File Information"}),e.jsxs(l,{sx:{display:"flex",alignItems:"center",mb:1},children:[e.jsx(Fe,{fontSize:"small",sx:{mr:1,color:"text.secondary"}}),e.jsx(i,{variant:"body2",children:b})]}),e.jsxs(Ie,{direction:"row",spacing:1,sx:{mb:2},children:[e.jsx($,{icon:e.jsx(ke,{}),label:`${D.categoriesWithProducts} Categories`,color:"primary",size:"small"}),e.jsx($,{icon:e.jsx(ze,{}),label:`${D.totalProducts} Products`,color:"secondary",size:"small"})]}),e.jsx(U,{severity:"success",sx:{mb:2},children:"Products will be automatically sorted by category, then by SKU"})]}),e.jsx(O,{sx:{my:2}}),e.jsx(Q,{label:"Description (optional)",fullWidth:!0,multiline:!0,rows:2,value:p,onChange:j,placeholder:`Sorted PDF with ${D.totalProducts} products across ${D.categoriesWithProducts} categories`,sx:{mb:3}}),e.jsxs(l,{sx:{display:"flex",alignItems:"center",mb:3},children:[e.jsx(Ae,{fontSize:"small",sx:{mr:1,color:"text.secondary"}}),e.jsx(Q,{label:"Expiry (Days)",type:"number",value:w.expiryDays,onChange:g,InputProps:{inputProps:{min:1,max:90},endAdornment:e.jsx(de,{position:"end",children:"days"})},sx:{width:"150px"},helperText:"1-90 days"})]})]})}),e.jsxs(xe,{sx:{px:3,py:2},children:[e.jsx(k,{onClick:o,disabled:x,children:"Cancel"}),e.jsx(k,{onClick:f,variant:"contained",startIcon:e.jsx(W,{}),disabled:x,children:"Save to Cloud"})]})]})},bt=({uploadResult:s,onClose:o,onDelete:r})=>{const[b,C]=y.useState(!1),[d,x]=y.useState(!1),w=()=>{navigator.clipboard.writeText(s.downloadUrl).then(()=>{C(!0),setTimeout(()=>C(!1),2e3)},g=>console.error("Could not copy text: ",g))},P=()=>{r(s.fileId),x(!1)},p=g=>new Date(g).toLocaleDateString("en-US",{weekday:"short",year:"numeric",month:"short",day:"numeric"}),F=g=>{const j=new Date().getTime(),f=new Date(g).getTime();return Math.ceil((f-j)/(1e3*60*60*24))},h=()=>{var f;const g=(f=s.metadata)==null?void 0:f.storagePath;if(!g)return"Cloud Storage";const j=g.split("/");if(j.length>=3){const c=j[2],t=/^(\d{2})-(\d{2})-(\d{4})$/,a=c.match(t);if(a){const[,u,m,v]=a;return`${["January","February","March","April","May","June","July","August","September","October","November","December"][parseInt(m,10)-1]||m} ${u}, ${v}`}return c}return"Cloud Storage"},I=F(s.expiresAt),D=h();return e.jsxs(e.Fragment,{children:[e.jsxs(T,{sx:{mb:4,position:"relative",borderRadius:2,border:"1px solid",borderColor:"success.main"},children:[e.jsx(l,{sx:{position:"absolute",top:10,right:10},children:e.jsx(q,{size:"small",onClick:o,children:e.jsx($e,{fontSize:"small"})})}),e.jsxs(B,{sx:{pt:3,pb:3},children:[e.jsxs(l,{sx:{display:"flex",alignItems:"center",mb:2},children:[e.jsx(Te,{color:"success",sx:{mr:1}}),e.jsx(i,{variant:"h6",color:"success.main",children:"PDF Successfully Uploaded"})]}),e.jsx(U,{severity:"success",sx:{mb:2},children:"Your PDF has been uploaded to cloud storage and is available for download."}),e.jsxs(l,{sx:{display:"flex",alignItems:"center",mb:2},children:[e.jsx(Be,{fontSize:"small",color:"primary",sx:{mr:1}}),e.jsxs(i,{variant:"body2",children:["Stored in: ",e.jsx("strong",{children:D})]})]}),e.jsxs(l,{sx:{display:"flex",alignItems:"center",flexWrap:"wrap",gap:1,mb:3},children:[e.jsx($,{icon:e.jsx(he,{fontSize:"small"}),label:`Expires: ${p(s.expiresAt)}`,size:"small",color:"primary",variant:"outlined"}),e.jsx($,{icon:e.jsx(Ee,{fontSize:"small"}),label:`${I} days remaining`,size:"small",color:I<=7?"warning":"default",variant:"outlined"}),s.isShared&&e.jsx($,{icon:e.jsx(We,{fontSize:"small"}),label:"Shared",size:"small",color:"secondary",variant:"outlined"})]}),e.jsx(O,{sx:{my:2}}),e.jsxs(l,{sx:{mb:3},children:[e.jsx(i,{variant:"subtitle2",gutterBottom:!0,children:"Download Link"}),e.jsx(Q,{fullWidth:!0,variant:"outlined",value:s.downloadUrl,InputProps:{readOnly:!0,endAdornment:e.jsx(de,{position:"end",children:e.jsx(me,{title:b?"Copied!":"Copy link",children:e.jsx(q,{edge:"end",onClick:w,size:"small",children:e.jsx(Le,{fontSize:"small"})})})})},size:"small"})]}),e.jsxs(l,{sx:{display:"flex",justifyContent:"space-between",flexWrap:"wrap",gap:2},children:[e.jsx(k,{variant:"outlined",color:"error",startIcon:e.jsx(ue,{}),onClick:()=>x(!0),size:"small",children:"Delete From Cloud"}),e.jsx(k,{variant:"contained",color:"primary",component:Me,href:s.downloadUrl,target:"_blank",startIcon:e.jsx(ae,{}),size:"small",children:"Download Now"})]})]})]}),e.jsxs(ne,{open:d,onClose:()=>x(!1),children:[e.jsx(le,{children:"Delete PDF from Cloud Storage?"}),e.jsx(ie,{children:e.jsx(Ue,{children:"This will permanently remove the PDF from cloud storage. This action cannot be undone."})}),e.jsxs(xe,{children:[e.jsx(k,{onClick:()=>x(!1),children:"Cancel"}),e.jsx(k,{onClick:P,color:"error",autoFocus:!0,children:"Delete"})]})]})]})},se=s=>{const o=y.useId(),r=()=>s.selected?s.fileCount&&s.fileCount>1?`${s.fileCount} Files Selected`:"File Selected":`Select ${s.name}`;return e.jsxs(e.Fragment,{children:[e.jsx("input",{id:o,accept:s.accepts,style:{display:"none"},type:"file",onChange:s.onChange,multiple:s.multiple}),e.jsx("label",{htmlFor:o,children:e.jsx(k,{component:"span",color:s.selected?"success":"primary",variant:s.selected?"contained":"outlined",tabIndex:-1,startIcon:s.selected?e.jsx(Oe,{}):e.jsx(W,{}),sx:{transition:"all 0.2s ease-in-out",minWidth:180,"&:hover":{transform:"translateY(-2px)"}},children:r()})})]})},Dt=({amazonFiles:s,flipkartFiles:o,onAmazonAdd:r,onFlipkartAdd:b,onAmazonRemove:C,onFlipkartRemove:d,onAmazonClear:x,onFlipkartClear:w})=>{const[P,p]=y.useState(!1),[F,h]=y.useState(!1),I=t=>{const a=t.target.files;if(a)for(let u=0;u<a.length;u++)r(a[u])},D=t=>{const a=t.target.files;if(a)for(let u=0;u<a.length;u++)b(a[u])},g=(t,a)=>{t.preventDefault(),t.stopPropagation(),a(!0)},j=(t,a)=>{t.preventDefault(),t.stopPropagation(),a(!1)},f=(t,a,u)=>{if(t.preventDefault(),t.stopPropagation(),u(!1),t.dataTransfer.files&&t.dataTransfer.files.length>0){const m=t.dataTransfer.files;for(let v=0;v<m.length;v++)m[v].type==="application/pdf"&&a(m[v])}},c=(t,a,u)=>t.length===0?null:e.jsxs(l,{sx:{mt:2,width:"100%"},children:[e.jsxs(l,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center",mb:1},children:[e.jsxs(i,{variant:"subtitle2",color:"text.secondary",children:[t.length," ",t.length===1?"file":"files"," selected"]}),t.length>1&&e.jsx($,{label:"Clear All",size:"small",color:"error",variant:"outlined",onClick:u})]}),e.jsx(Re,{dense:!0,sx:{maxHeight:"150px",overflow:"auto",bgcolor:"background.paper",borderRadius:1},children:t.map((m,v)=>e.jsx(Ne,{secondaryAction:e.jsx(q,{edge:"end","aria-label":"delete",size:"small",onClick:()=>a(v),children:e.jsx(ue,{fontSize:"small"})}),children:e.jsx(_e,{primary:m.name,secondary:`${(m.size/1024).toFixed(1)} KB`,primaryTypographyProps:{noWrap:!0}})},`${m.name}-${v}`))})]});return e.jsxs(Y,{container:!0,spacing:3,children:[e.jsx(Y,{item:!0,xs:12,md:6,children:e.jsx(T,{variant:"outlined",sx:{height:"100%",transition:"all 0.3s ease-in-out","&:hover":{transform:"translateY(-4px)",boxShadow:t=>t.palette.mode==="dark"?"0 4px 8px rgba(0,0,0,0.3)":"0 4px 8px rgba(33,150,243,0.15)"},...P&&{border:"2px dashed",borderColor:"primary.main",backgroundColor:"rgba(33, 150, 243, 0.04)"}},onDragOver:t=>g(t,p),onDragLeave:t=>j(t,p),onDrop:t=>f(t,r,p),children:e.jsx(B,{children:e.jsxs(l,{sx:{display:"flex",flexDirection:"column",alignItems:"center",p:3,textAlign:"center"},children:[e.jsx(W,{sx:{fontSize:48,mb:2,color:t=>s.length>0?t.palette.success.main:t.palette.primary.main}}),e.jsx(i,{variant:"h6",gutterBottom:!0,children:"Amazon Labels"}),e.jsx(i,{variant:"body2",color:"text.secondary",sx:{mb:2},children:s.length>0?`${s.length} Amazon file${s.length!==1?"s":""} selected`:P?"Drop PDF files here":"Upload or drop Amazon shipping labels (PDF)"}),e.jsx(se,{accepts:"application/pdf",name:"amazon",onChange:I,selected:s.length>0,fileCount:s.length,multiple:!0}),c(s,C,x)]})})})}),e.jsx(Y,{item:!0,xs:12,md:6,children:e.jsx(T,{variant:"outlined",sx:{height:"100%",transition:"all 0.3s ease-in-out","&:hover":{transform:"translateY(-4px)",boxShadow:t=>t.palette.mode==="dark"?"0 4px 8px rgba(0,0,0,0.3)":"0 4px 8px rgba(33,150,243,0.15)"},...F&&{border:"2px dashed",borderColor:"primary.main",backgroundColor:"rgba(33, 150, 243, 0.04)"}},onDragOver:t=>g(t,h),onDragLeave:t=>j(t,h),onDrop:t=>f(t,b,h),children:e.jsx(B,{children:e.jsxs(l,{sx:{display:"flex",flexDirection:"column",alignItems:"center",p:3,textAlign:"center"},children:[e.jsx(W,{sx:{fontSize:48,mb:2,color:t=>o.length>0?t.palette.success.main:t.palette.primary.main}}),e.jsx(i,{variant:"h6",gutterBottom:!0,children:"Flipkart Labels"}),e.jsx(i,{variant:"body2",color:"text.secondary",sx:{mb:2},children:o.length>0?`${o.length} Flipkart file${o.length!==1?"s":""} selected`:F?"Drop PDF files here":"Upload or drop Flipkart shipping labels (PDF)"}),e.jsx(se,{accepts:"application/pdf",name:"flipkart",selected:o.length>0,fileCount:o.length,multiple:!0,onChange:D}),c(o,d,w)]})})})})]})},Ct=({enabled:s,onChange:o,disabled:r=!1})=>e.jsxs(l,{sx:{display:"flex",alignItems:"center",justifyContent:"space-between",p:2,borderRadius:2,border:"1px solid",borderColor:r?"grey.200":s?"primary.light":"grey.200",backgroundColor:r?"warning.dark":s?"primary.lightest":"warning.dark",opacity:r?.7:1,transition:"all 0.3s ease","&:hover":{borderColor:r?"grey.200":s?"primary.main":"grey.200"}},children:[e.jsxs(l,{sx:{display:"flex",alignItems:"center",gap:1},children:[s?e.jsx(Ge,{sx:{color:r?"grey.600":"primary.main",fontSize:24}}):e.jsx(Ye,{sx:{color:r?"grey.600":"grey.700",fontSize:24}}),e.jsxs(l,{children:[e.jsx(i,{variant:"subtitle1",sx:{fontWeight:600,color:r?"grey.700":"text.primary"},children:"Barcode Generation"}),e.jsx(i,{variant:"body2",sx:{color:r?"grey.600":"text.secondary"},children:s?"Add barcodes to each page for tracking":"Generate PDF without barcodes"})]})]}),e.jsxs(l,{sx:{display:"flex",alignItems:"center",gap:2},children:[e.jsx($,{label:s?"Enabled":"Disabled",color:s?"primary":"default",size:"small",variant:s?"filled":"outlined",sx:{...r&&{backgroundColor:"grey.200",color:"grey.700",borderColor:"grey.400","& .MuiChip-label":{color:"grey.700"}}}}),e.jsx(me,{title:s?"Disable to generate PDFs without barcodes for faster processing":"Enable to add tracking barcodes to each page of the merged PDF",children:e.jsx(He,{control:e.jsx(Je,{checked:s,onChange:b=>o(b.target.checked),disabled:r,color:"primary"}),label:"",sx:{m:0}})})]})]}),Tt=()=>{const s=Ke(),o=Qe(s.breakpoints.down("sm")),r=tt(),{amazonFiles:b,flipkartFiles:C,finalPdf:d,summary:x,loading:w,error:P,selectedDate:p,enableBarcodes:F}=H(n=>n.pdfMerger),{categories:h,items:I}=H(n=>n.products),D=H(st),[g,j]=y.useState(!1),[f,c]=y.useState(!1),[t,a]=y.useState(null),[u,m]=y.useState(!1),[v,z]=y.useState(void 0),[R,N]=y.useState(null);y.useEffect(()=>{(async()=>{I.length===0&&await r(at({})).unwrap(),h.length===0&&await r(nt()).unwrap()})().catch(console.error)},[r,I.length,h.length]),y.useEffect(()=>{if(!d||f||t||!D||d===R)return;N(d);const n=async()=>{var S;try{if(!d)return;const X=await(await fetch(d)).blob(),L=`sorted_labels_${new Date().toISOString().replace(/[:.-]/g,"_")}.pdf`,_={...pe,expiryDays:7,description:`Auto-saved PDF with ${x.length} products across ${h.filter(G=>!!G.name).length} categories`},M=await K.uploadPdfForDate(X,L,p,{categoryCount:h.length,productCount:x.length,sortConfig:J,description:`Auto-saved PDF with ${x.length} products across ${h.filter(G=>!!G.name).length} categories`},_);M.success?(a(M),m(!0)):(console.error("Error auto-uploading PDF:",M.error),z(M.error||"Failed to auto-save PDF"),(S=M.error)!=null&&S.includes("authenticated")&&z(void 0))}catch(A){console.error("Error auto-uploading PDF:",A),z(A instanceof Error?A.message:"Failed to auto-save PDF"),A instanceof Error&&A.message.includes("authenticated")&&z(void 0)}};c(!0),n().finally(()=>{c(!1)})},[d,f,t,x.length,h,D,R,p]);const ge=async()=>{if(!(b.length===0&&C.length===0)){a(null),m(!1),N(null);try{await r(ht({amazonFiles:b,flipkartFiles:C,sortConfig:J,selectedDate:p,enableBarcodes:F})).unwrap(),r(te()),r(ee())}catch(n){console.error(n)}}},fe=n=>{r(dt(n)),E()},ye=n=>{r(ct(n)),E()},je=n=>{r(it(n)),E()},be=n=>{r(lt(n)),E()},De=()=>{r(te()),E()},Ce=()=>{r(ee()),E()},E=()=>{m(!1),a(null),N(null)},ve=()=>{d&&j(!0)},we=async n=>{if(d){c(!0);try{const A=await(await fetch(d)).blob(),Z=`sorted_labels_${new Date().toISOString().replace(/[:.-]/g,"_")}.pdf`,L=await K.uploadPdfForDate(A,Z,p,{categoryCount:h.length,productCount:x.length,sortConfig:J,description:`Sorted PDF with ${x.length} products across ${h.filter(_=>!!_.name).length} categories`},n);L.success?(a(L),m(!0),j(!1)):z(L.error||"Failed to save PDF to cloud")}catch(S){console.error("Error uploading PDF:",S),z(S instanceof Error?S.message:"Failed to save PDF to cloud")}finally{c(!1)}}},Se=async n=>{try{await K.deletePdf(n),m(!1),a(null)}catch(S){console.error("Error deleting PDF:",S),z(S instanceof Error?S.message:"Failed to delete PDF")}},V=()=>{z(void 0)},Pe=n=>{r(xt(n))};return e.jsx(qe,{maxWidth:"xl",sx:{py:o?2:3},children:e.jsxs(re,{sx:{p:o?2:3,mb:4,borderRadius:2,boxShadow:s.shadows[3]},elevation:3,children:[e.jsxs(l,{sx:{display:"flex",alignItems:"center",mb:3,flexDirection:o?"column":"row",gap:o?1:0},children:[e.jsxs(l,{sx:{display:"flex",alignItems:"center",justifyContent:o?"center":"flex-start",width:o?"100%":"auto"},children:[e.jsx(Ve,{sx:{fontSize:o?28:32,mr:2,color:"primary.main"}}),e.jsx(i,{variant:o?"h5":"h4",component:"h1",sx:{fontWeight:"bold",color:"primary.dark"},children:"PDF Merger"})]}),o&&e.jsx(O,{flexItem:!0,sx:{my:1}})]}),e.jsx(O,{sx:{mb:3}}),e.jsx(T,{sx:{mb:3,borderRadius:2,border:"1px solid",borderColor:"secondary.light",overflow:"visible",boxShadow:s.shadows[2]},children:e.jsxs(B,{sx:{p:{xs:2,sm:3}},children:[e.jsxs(i,{variant:o?"h6":"h5",gutterBottom:!0,children:[e.jsx(he,{sx:{mr:1,verticalAlign:"middle"}}),"Select Processing Date"]}),e.jsx(i,{variant:"body2",color:"text.secondary",paragraph:!0,children:"Choose the date for which you want to process the PDF files. Orders will be saved to this date."}),e.jsx(mt,{dateAdapter:ut,children:e.jsx(pt,{label:"Processing Date",value:p,onChange:n=>{n&&r(rt(n))},minDate:new Date,sx:{width:"100%",maxWidth:300}})}),e.jsxs(i,{variant:"body2",color:"text.secondary",sx:{mt:1},children:["Orders will be saved to ",ot(p,"MMMM dd, yyyy")]})]})}),e.jsx(T,{sx:{mb:3,borderRadius:2,border:"1px solid",borderColor:"primary.light",overflow:"visible",boxShadow:s.shadows[2]},children:e.jsxs(B,{sx:{p:{xs:2,sm:3}},children:[e.jsxs(i,{variant:o?"h6":"h5",gutterBottom:!0,children:[e.jsx(oe,{sx:{mr:1,verticalAlign:"middle"}}),"Upload PDF Files"]}),e.jsx(i,{variant:"body2",color:"text.secondary",paragraph:!0,children:"Upload PDF files from Amazon and/or Flipkart. The tool will merge them into a unified PDF document sorted by product categories."}),e.jsx(Dt,{amazonFiles:b,flipkartFiles:C,onAmazonAdd:fe,onFlipkartAdd:ye,onAmazonRemove:je,onFlipkartRemove:be,onAmazonClear:De,onFlipkartClear:Ce}),e.jsx(l,{sx:{mt:3},children:e.jsx(Ct,{enabled:F,onChange:Pe,disabled:w})}),e.jsxs(l,{sx:{mt:3,textAlign:"center"},children:[e.jsx(k,{variant:"contained",color:"primary",size:"large",disabled:b.length===0&&C.length===0||w,onClick:ge,startIcon:w?e.jsx(ce,{size:20}):e.jsx(Xe,{}),sx:{minWidth:200,py:1,borderRadius:2,textTransform:"none",fontWeight:600},children:w?"Processing...":"Generate PDF"}),e.jsx(Ze,{in:!!P,children:e.jsx(U,{severity:"error",sx:{mt:2,mx:"auto",maxWidth:600},children:P})})]})]})}),d&&e.jsx(T,{sx:{mb:3,borderRadius:2,border:"1px solid",borderColor:"success.light",backgroundColor:"success.lightest",boxShadow:s.shadows[2]},children:e.jsxs(B,{sx:{p:{xs:2,sm:3}},children:[e.jsxs(l,{sx:{mb:2,display:"flex",alignItems:"center"},children:[e.jsx(i,{variant:"h6",component:"h3",color:"success.main",sx:{fontWeight:600},children:"PDF Generated Successfully!"}),e.jsx($,{label:`${x.length} Products`,color:"success",size:"small",sx:{ml:2}}),e.jsx(k,{variant:"contained",color:"secondary",size:"small",onClick:ve,disabled:f||u,startIcon:e.jsx(W,{}),sx:{ml:"auto",borderRadius:4},children:f?"Saving...":"Save to Cloud"})]}),e.jsx(ft,{pdfUrl:d}),u&&t&&t.fileId&&e.jsx(bt,{uploadResult:t,onDelete:()=>Se(t.fileId),onClose:()=>m(!1)})]})}),d&&e.jsx(T,{sx:{borderRadius:2,border:"1px solid",borderColor:"primary.light",overflow:"hidden",boxShadow:s.shadows[2]},children:e.jsx(B,{sx:{p:0},children:e.jsx(yt,{pdfUrl:d})})}),e.jsx(jt,{open:g,onClose:()=>j(!1),onConfirm:we,fileName:`sorted_labels_${new Date().toISOString().slice(0,10)}.pdf`,products:I,categories:h,isUploading:f}),e.jsx(et,{open:!!v,autoHideDuration:6e3,onClose:V,anchorOrigin:{vertical:"bottom",horizontal:"center"},children:e.jsx(U,{onClose:V,severity:"error",sx:{width:"100%"},children:v})})]})})};export{Tt as HomePage};
