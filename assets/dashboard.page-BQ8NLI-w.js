import{aa as Q,j as i,B as k,C as ue,h as y,a2 as M,ab as ur,ac as Oe,D as dr,p as Ct,r as Et,o as Lt,k as X,q as fr,G as dt,W as ot,A as Je,ad as hr,ae as pr,af as mr,ag as vr,ah as yr,ai as xr,aj as gr,S as br,ak as jr,al as De,T as be,I as Ze,am as ft,a8 as P,X as Ar,Y as kr,an as wr,ao as _e,ap as Te,aq as Ce,ar as B,as as Pr,U as je,at as Ae,au as Sr,av as Or,c as Qe,aw as Ir,E as We,u as _r,d as Tr,ax as ht}from"./mui-vendor-D4OjBZQt.js";import{b as g,g as Rt,a as W,L as ke,i as Cr}from"./react-vendor-DYr15v6v.js";import{u as Dt,a as U,s as Er,b as Lr,c as $t,d as Rr,e as Dr,f as $r,g as $e,h as Nr,i as zr,j as Wr,k as Br,r as Fr,l as Mr,m as Kr,n as Vr,o as Gr,p as Ur,q as qr}from"./index-BIOtAz8Z.js";import{F as pt}from"./FormattedCurrency-Cr38E1t8.js";import{f as _,r as Nt,a as Hr,b as zt,c as Zr,i as ne,T as st,p as ee,L as K,g as Wt,d as lt,e as Bt,D as Ft,C as Mt,h as te,j as ie,S as Xr,A as Kt,k as Yr,l as le,m as Vt,n as fe,o as Gt,u as Ut,G as qt,q as Ne,s as Ht,t as Zt,v as Jr,w as Ee,x as mt,E as Qr,y as en,z as vt,B as Xt,X as Yt,Y as Jt,F as tn,H as rn,R as Qt,I as er,J as tr,K as nn}from"./generateCategoricalChart-0pyt0Y-a.js";import"./redux-vendor-CLOwJCHO.js";import"./firebase-vendor-OxXAdhiL.js";import"./utils-vendor-CFocuF-S.js";import"./pdf-vendor-CApBJrGQ.js";var an=["points","className","baseLinePoints","connectNulls"];function he(){return he=Object.assign?Object.assign.bind():function(e){for(var r=1;r<arguments.length;r++){var n=arguments[r];for(var t in n)Object.prototype.hasOwnProperty.call(n,t)&&(e[t]=n[t])}return e},he.apply(this,arguments)}function on(e,r){if(e==null)return{};var n=sn(e,r),t,a;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(a=0;a<o.length;a++)t=o[a],!(r.indexOf(t)>=0)&&Object.prototype.propertyIsEnumerable.call(e,t)&&(n[t]=e[t])}return n}function sn(e,r){if(e==null)return{};var n={};for(var t in e)if(Object.prototype.hasOwnProperty.call(e,t)){if(r.indexOf(t)>=0)continue;n[t]=e[t]}return n}function yt(e){return dn(e)||un(e)||cn(e)||ln()}function ln(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function cn(e,r){if(e){if(typeof e=="string")return et(e,r);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return et(e,r)}}function un(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function dn(e){if(Array.isArray(e))return et(e)}function et(e,r){(r==null||r>e.length)&&(r=e.length);for(var n=0,t=new Array(r);n<r;n++)t[n]=e[n];return t}var xt=function(r){return r&&r.x===+r.x&&r.y===+r.y},fn=function(){var r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],n=[[]];return r.forEach(function(t){xt(t)?n[n.length-1].push(t):n[n.length-1].length>0&&n.push([])}),xt(r[0])&&n[n.length-1].push(r[0]),n[n.length-1].length<=0&&(n=n.slice(0,-1)),n},we=function(r,n){var t=fn(r);n&&(t=[t.reduce(function(o,s){return[].concat(yt(o),yt(s))},[])]);var a=t.map(function(o){return o.reduce(function(s,l,d){return"".concat(s).concat(d===0?"M":"L").concat(l.x,",").concat(l.y)},"")}).join("");return t.length===1?"".concat(a,"Z"):a},hn=function(r,n,t){var a=we(r,t);return"".concat(a.slice(-1)==="Z"?a.slice(0,-1):a,"L").concat(we(n.reverse(),t).slice(1))},pn=function(r){var n=r.points,t=r.className,a=r.baseLinePoints,o=r.connectNulls,s=on(r,an);if(!n||!n.length)return null;var l=Q("recharts-polygon",t);if(a&&a.length){var d=s.stroke&&s.stroke!=="none",c=hn(n,a,o);return g.createElement("g",{className:l},g.createElement("path",he({},_(s,!0),{fill:c.slice(-1)==="Z"?s.fill:"none",stroke:"none",d:c})),d?g.createElement("path",he({},_(s,!0),{fill:"none",d:we(n,o)})):null,d?g.createElement("path",he({},_(s,!0),{fill:"none",d:we(a,o)})):null)}var h=we(n,o);return g.createElement("path",he({},_(s,!0),{fill:h.slice(-1)==="Z"?s.fill:"none",className:l,d:h}))},Xe,gt;function mn(){if(gt)return Xe;gt=1;var e=Nt(),r=Hr(),n=zt();function t(a,o){return a&&a.length?e(a,n(o,2),r):void 0}return Xe=t,Xe}var vn=mn();const yn=Rt(vn);var Ye,bt;function xn(){if(bt)return Ye;bt=1;var e=Nt(),r=zt(),n=Zr();function t(a,o){return a&&a.length?e(a,r(o,2),n):void 0}return Ye=t,Ye}var gn=xn();const bn=Rt(gn);var jn=["cx","cy","angle","ticks","axisLine"],An=["ticks","tick","angle","tickFormatter","stroke"];function me(e){"@babel/helpers - typeof";return me=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(r){return typeof r}:function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},me(e)}function Pe(){return Pe=Object.assign?Object.assign.bind():function(e){for(var r=1;r<arguments.length;r++){var n=arguments[r];for(var t in n)Object.prototype.hasOwnProperty.call(n,t)&&(e[t]=n[t])}return e},Pe.apply(this,arguments)}function jt(e,r){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var t=Object.getOwnPropertySymbols(e);r&&(t=t.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,t)}return n}function oe(e){for(var r=1;r<arguments.length;r++){var n=arguments[r]!=null?arguments[r]:{};r%2?jt(Object(n),!0).forEach(function(t){Ve(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):jt(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function At(e,r){if(e==null)return{};var n=kn(e,r),t,a;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(a=0;a<o.length;a++)t=o[a],!(r.indexOf(t)>=0)&&Object.prototype.propertyIsEnumerable.call(e,t)&&(n[t]=e[t])}return n}function kn(e,r){if(e==null)return{};var n={};for(var t in e)if(Object.prototype.hasOwnProperty.call(e,t)){if(r.indexOf(t)>=0)continue;n[t]=e[t]}return n}function wn(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}function kt(e,r){for(var n=0;n<r.length;n++){var t=r[n];t.enumerable=t.enumerable||!1,t.configurable=!0,"value"in t&&(t.writable=!0),Object.defineProperty(e,nr(t.key),t)}}function Pn(e,r,n){return r&&kt(e.prototype,r),n&&kt(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function Sn(e,r,n){return r=Be(r),On(e,rr()?Reflect.construct(r,n||[],Be(e).constructor):r.apply(e,n))}function On(e,r){if(r&&(me(r)==="object"||typeof r=="function"))return r;if(r!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return In(e)}function In(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function rr(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(rr=function(){return!!e})()}function Be(e){return Be=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Be(e)}function _n(e,r){if(typeof r!="function"&&r!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(r&&r.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),r&&tt(e,r)}function tt(e,r){return tt=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,a){return t.__proto__=a,t},tt(e,r)}function Ve(e,r,n){return r=nr(r),r in e?Object.defineProperty(e,r,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[r]=n,e}function nr(e){var r=Tn(e,"string");return me(r)=="symbol"?r:r+""}function Tn(e,r){if(me(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var t=n.call(e,r);if(me(t)!="object")return t;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var Ge=function(e){function r(){return wn(this,r),Sn(this,r,arguments)}return _n(r,e),Pn(r,[{key:"getTickValueCoord",value:function(t){var a=t.coordinate,o=this.props,s=o.angle,l=o.cx,d=o.cy;return ee(l,d,a,s)}},{key:"getTickTextAnchor",value:function(){var t=this.props.orientation,a;switch(t){case"left":a="end";break;case"right":a="start";break;default:a="middle";break}return a}},{key:"getViewBox",value:function(){var t=this.props,a=t.cx,o=t.cy,s=t.angle,l=t.ticks,d=yn(l,function(h){return h.coordinate||0}),c=bn(l,function(h){return h.coordinate||0});return{cx:a,cy:o,startAngle:s,endAngle:s,innerRadius:c.coordinate||0,outerRadius:d.coordinate||0}}},{key:"renderAxisLine",value:function(){var t=this.props,a=t.cx,o=t.cy,s=t.angle,l=t.ticks,d=t.axisLine,c=At(t,jn),h=l.reduce(function(m,p){return[Math.min(m[0],p.coordinate),Math.max(m[1],p.coordinate)]},[1/0,-1/0]),f=ee(a,o,h[0],s),b=ee(a,o,h[1],s),v=oe(oe(oe({},_(c,!1)),{},{fill:"none"},_(d,!1)),{},{x1:f.x,y1:f.y,x2:b.x,y2:b.y});return g.createElement("line",Pe({className:"recharts-polar-radius-axis-line"},v))}},{key:"renderTicks",value:function(){var t=this,a=this.props,o=a.ticks,s=a.tick,l=a.angle,d=a.tickFormatter,c=a.stroke,h=At(a,An),f=this.getTickTextAnchor(),b=_(h,!1),v=_(s,!1),m=o.map(function(p,j){var A=t.getTickValueCoord(p),w=oe(oe(oe(oe({textAnchor:f,transform:"rotate(".concat(90-l,", ").concat(A.x,", ").concat(A.y,")")},b),{},{stroke:"none",fill:c},v),{},{index:j},A),{},{payload:p});return g.createElement(K,Pe({className:Q("recharts-polar-radius-axis-tick",Wt(s)),key:"tick-".concat(p.coordinate)},lt(t.props,p,j)),r.renderTickItem(s,w,d?d(p.value,j):p.value))});return g.createElement(K,{className:"recharts-polar-radius-axis-ticks"},m)}},{key:"render",value:function(){var t=this.props,a=t.ticks,o=t.axisLine,s=t.tick;return!a||!a.length?null:g.createElement(K,{className:Q("recharts-polar-radius-axis",this.props.className)},o&&this.renderAxisLine(),s&&this.renderTicks(),Bt.renderCallByParent(this.props,this.getViewBox()))}}],[{key:"renderTickItem",value:function(t,a,o){var s;return g.isValidElement(t)?s=g.cloneElement(t,a):ne(t)?s=t(a):s=g.createElement(st,Pe({},a,{className:"recharts-polar-radius-axis-tick-value"}),o),s}}])}(W.PureComponent);Ve(Ge,"displayName","PolarRadiusAxis");Ve(Ge,"axisType","radiusAxis");Ve(Ge,"defaultProps",{type:"number",radiusAxisId:0,cx:0,cy:0,angle:0,orientation:"right",stroke:"#ccc",axisLine:!0,tick:!0,tickCount:5,allowDataOverflow:!1,scale:"auto",allowDuplicatedCategory:!0});function ve(e){"@babel/helpers - typeof";return ve=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(r){return typeof r}:function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},ve(e)}function ce(){return ce=Object.assign?Object.assign.bind():function(e){for(var r=1;r<arguments.length;r++){var n=arguments[r];for(var t in n)Object.prototype.hasOwnProperty.call(n,t)&&(e[t]=n[t])}return e},ce.apply(this,arguments)}function wt(e,r){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var t=Object.getOwnPropertySymbols(e);r&&(t=t.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,t)}return n}function se(e){for(var r=1;r<arguments.length;r++){var n=arguments[r]!=null?arguments[r]:{};r%2?wt(Object(n),!0).forEach(function(t){Ue(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):wt(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function Cn(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}function Pt(e,r){for(var n=0;n<r.length;n++){var t=r[n];t.enumerable=t.enumerable||!1,t.configurable=!0,"value"in t&&(t.writable=!0),Object.defineProperty(e,ar(t.key),t)}}function En(e,r,n){return r&&Pt(e.prototype,r),n&&Pt(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function Ln(e,r,n){return r=Fe(r),Rn(e,ir()?Reflect.construct(r,n||[],Fe(e).constructor):r.apply(e,n))}function Rn(e,r){if(r&&(ve(r)==="object"||typeof r=="function"))return r;if(r!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Dn(e)}function Dn(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function ir(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(ir=function(){return!!e})()}function Fe(e){return Fe=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Fe(e)}function $n(e,r){if(typeof r!="function"&&r!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(r&&r.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),r&&rt(e,r)}function rt(e,r){return rt=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,a){return t.__proto__=a,t},rt(e,r)}function Ue(e,r,n){return r=ar(r),r in e?Object.defineProperty(e,r,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[r]=n,e}function ar(e){var r=Nn(e,"string");return ve(r)=="symbol"?r:r+""}function Nn(e,r){if(ve(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var t=n.call(e,r);if(ve(t)!="object")return t;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var zn=Math.PI/180,Wn=1e-5,qe=function(e){function r(){return Cn(this,r),Ln(this,r,arguments)}return $n(r,e),En(r,[{key:"getTickLineCoord",value:function(t){var a=this.props,o=a.cx,s=a.cy,l=a.radius,d=a.orientation,c=a.tickSize,h=c||8,f=ee(o,s,l,t.coordinate),b=ee(o,s,l+(d==="inner"?-1:1)*h,t.coordinate);return{x1:f.x,y1:f.y,x2:b.x,y2:b.y}}},{key:"getTickTextAnchor",value:function(t){var a=this.props.orientation,o=Math.cos(-t.coordinate*zn),s;return o>Wn?s=a==="outer"?"start":"end":o<-1e-5?s=a==="outer"?"end":"start":s="middle",s}},{key:"renderAxisLine",value:function(){var t=this.props,a=t.cx,o=t.cy,s=t.radius,l=t.axisLine,d=t.axisLineType,c=se(se({},_(this.props,!1)),{},{fill:"none"},_(l,!1));if(d==="circle")return g.createElement(Ft,ce({className:"recharts-polar-angle-axis-line"},c,{cx:a,cy:o,r:s}));var h=this.props.ticks,f=h.map(function(b){return ee(a,o,s,b.coordinate)});return g.createElement(pn,ce({className:"recharts-polar-angle-axis-line"},c,{points:f}))}},{key:"renderTicks",value:function(){var t=this,a=this.props,o=a.ticks,s=a.tick,l=a.tickLine,d=a.tickFormatter,c=a.stroke,h=_(this.props,!1),f=_(s,!1),b=se(se({},h),{},{fill:"none"},_(l,!1)),v=o.map(function(m,p){var j=t.getTickLineCoord(m),A=t.getTickTextAnchor(m),w=se(se(se({textAnchor:A},h),{},{stroke:"none",fill:c},f),{},{index:p,payload:m,x:j.x2,y:j.y2});return g.createElement(K,ce({className:Q("recharts-polar-angle-axis-tick",Wt(s)),key:"tick-".concat(m.coordinate)},lt(t.props,m,p)),l&&g.createElement("line",ce({className:"recharts-polar-angle-axis-tick-line"},b,j)),s&&r.renderTickItem(s,w,d?d(m.value,p):m.value))});return g.createElement(K,{className:"recharts-polar-angle-axis-ticks"},v)}},{key:"render",value:function(){var t=this.props,a=t.ticks,o=t.radius,s=t.axisLine;return o<=0||!a||!a.length?null:g.createElement(K,{className:Q("recharts-polar-angle-axis",this.props.className)},s&&this.renderAxisLine(),this.renderTicks())}}],[{key:"renderTickItem",value:function(t,a,o){var s;return g.isValidElement(t)?s=g.cloneElement(t,a):ne(t)?s=t(a):s=g.createElement(st,ce({},a,{className:"recharts-polar-angle-axis-tick-value"}),o),s}}])}(W.PureComponent);Ue(qe,"displayName","PolarAngleAxis");Ue(qe,"axisType","angleAxis");Ue(qe,"defaultProps",{type:"category",angleAxisId:0,scale:"auto",cx:0,cy:0,orientation:"outer",axisLine:!0,tickLine:!0,tickSize:8,tick:!0,hide:!1,allowDuplicatedCategory:!0});var ze;function ye(e){"@babel/helpers - typeof";return ye=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(r){return typeof r}:function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},ye(e)}function pe(){return pe=Object.assign?Object.assign.bind():function(e){for(var r=1;r<arguments.length;r++){var n=arguments[r];for(var t in n)Object.prototype.hasOwnProperty.call(n,t)&&(e[t]=n[t])}return e},pe.apply(this,arguments)}function St(e,r){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var t=Object.getOwnPropertySymbols(e);r&&(t=t.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,t)}return n}function S(e){for(var r=1;r<arguments.length;r++){var n=arguments[r]!=null?arguments[r]:{};r%2?St(Object(n),!0).forEach(function(t){q(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):St(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function Bn(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}function Ot(e,r){for(var n=0;n<r.length;n++){var t=r[n];t.enumerable=t.enumerable||!1,t.configurable=!0,"value"in t&&(t.writable=!0),Object.defineProperty(e,sr(t.key),t)}}function Fn(e,r,n){return r&&Ot(e.prototype,r),n&&Ot(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function Mn(e,r,n){return r=Me(r),Kn(e,or()?Reflect.construct(r,n||[],Me(e).constructor):r.apply(e,n))}function Kn(e,r){if(r&&(ye(r)==="object"||typeof r=="function"))return r;if(r!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Vn(e)}function Vn(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function or(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(or=function(){return!!e})()}function Me(e){return Me=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Me(e)}function Gn(e,r){if(typeof r!="function"&&r!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(r&&r.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),r&&nt(e,r)}function nt(e,r){return nt=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,a){return t.__proto__=a,t},nt(e,r)}function q(e,r,n){return r=sr(r),r in e?Object.defineProperty(e,r,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[r]=n,e}function sr(e){var r=Un(e,"string");return ye(r)=="symbol"?r:r+""}function Un(e,r){if(ye(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var t=n.call(e,r);if(ye(t)!="object")return t;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var re=function(e){function r(n){var t;return Bn(this,r),t=Mn(this,r,[n]),q(t,"pieRef",null),q(t,"sectorRefs",[]),q(t,"id",Ut("recharts-pie-")),q(t,"handleAnimationEnd",function(){var a=t.props.onAnimationEnd;t.setState({isAnimationFinished:!0}),ne(a)&&a()}),q(t,"handleAnimationStart",function(){var a=t.props.onAnimationStart;t.setState({isAnimationFinished:!1}),ne(a)&&a()}),t.state={isAnimationFinished:!n.isAnimationActive,prevIsAnimationActive:n.isAnimationActive,prevAnimationId:n.animationId,sectorToFocus:0},t}return Gn(r,e),Fn(r,[{key:"isActiveIndex",value:function(t){var a=this.props.activeIndex;return Array.isArray(a)?a.indexOf(t)!==-1:t===a}},{key:"hasActiveIndex",value:function(){var t=this.props.activeIndex;return Array.isArray(t)?t.length!==0:t||t===0}},{key:"renderLabels",value:function(t){var a=this.props.isAnimationActive;if(a&&!this.state.isAnimationFinished)return null;var o=this.props,s=o.label,l=o.labelLine,d=o.dataKey,c=o.valueKey,h=_(this.props,!1),f=_(s,!1),b=_(l,!1),v=s&&s.offsetRadius||20,m=t.map(function(p,j){var A=(p.startAngle+p.endAngle)/2,w=ee(p.cx,p.cy,p.outerRadius+v,A),I=S(S(S(S({},h),p),{},{stroke:"none"},f),{},{index:j,textAnchor:r.getTextAnchor(w.x,p.cx)},w),$=S(S(S(S({},h),p),{},{fill:"none",stroke:p.fill},b),{},{index:j,points:[ee(p.cx,p.cy,p.outerRadius,A),w]}),O=d;return te(d)&&te(c)?O="value":te(d)&&(O=c),g.createElement(K,{key:"label-".concat(p.startAngle,"-").concat(p.endAngle,"-").concat(p.midAngle,"-").concat(j)},l&&r.renderLabelLineItem(l,$,"line"),r.renderLabelItem(s,I,ie(p,O)))});return g.createElement(K,{className:"recharts-pie-labels"},m)}},{key:"renderSectorsStatically",value:function(t){var a=this,o=this.props,s=o.activeShape,l=o.blendStroke,d=o.inactiveShape;return t.map(function(c,h){if((c==null?void 0:c.startAngle)===0&&(c==null?void 0:c.endAngle)===0&&t.length!==1)return null;var f=a.isActiveIndex(h),b=d&&a.hasActiveIndex()?d:null,v=f?s:b,m=S(S({},c),{},{stroke:l?c.fill:c.stroke,tabIndex:-1});return g.createElement(K,pe({ref:function(j){j&&!a.sectorRefs.includes(j)&&a.sectorRefs.push(j)},tabIndex:-1,className:"recharts-pie-sector"},lt(a.props,c,h),{key:"sector-".concat(c==null?void 0:c.startAngle,"-").concat(c==null?void 0:c.endAngle,"-").concat(c.midAngle,"-").concat(h)}),g.createElement(Xr,pe({option:v,isActive:f,shapeType:"sector"},m)))})}},{key:"renderSectorsWithAnimation",value:function(){var t=this,a=this.props,o=a.sectors,s=a.isAnimationActive,l=a.animationBegin,d=a.animationDuration,c=a.animationEasing,h=a.animationId,f=this.state,b=f.prevSectors,v=f.prevIsAnimationActive;return g.createElement(Kt,{begin:l,duration:d,isActive:s,easing:c,from:{t:0},to:{t:1},key:"pie-".concat(h,"-").concat(v),onAnimationStart:this.handleAnimationStart,onAnimationEnd:this.handleAnimationEnd},function(m){var p=m.t,j=[],A=o&&o[0],w=A.startAngle;return o.forEach(function(I,$){var O=b&&b[$],E=$>0?Yr(I,"paddingAngle",0):0;if(O){var N=le(O.endAngle-O.startAngle,I.endAngle-I.startAngle),T=S(S({},I),{},{startAngle:w+E,endAngle:w+N(p)+E});j.push(T),w=T.endAngle}else{var L=I.endAngle,R=I.startAngle,G=le(0,L-R),C=G(p),z=S(S({},I),{},{startAngle:w+E,endAngle:w+C+E});j.push(z),w=z.endAngle}}),g.createElement(K,null,t.renderSectorsStatically(j))})}},{key:"attachKeyboardHandlers",value:function(t){var a=this;t.onkeydown=function(o){if(!o.altKey)switch(o.key){case"ArrowLeft":{var s=++a.state.sectorToFocus%a.sectorRefs.length;a.sectorRefs[s].focus(),a.setState({sectorToFocus:s});break}case"ArrowRight":{var l=--a.state.sectorToFocus<0?a.sectorRefs.length-1:a.state.sectorToFocus%a.sectorRefs.length;a.sectorRefs[l].focus(),a.setState({sectorToFocus:l});break}case"Escape":{a.sectorRefs[a.state.sectorToFocus].blur(),a.setState({sectorToFocus:0});break}}}}},{key:"renderSectors",value:function(){var t=this.props,a=t.sectors,o=t.isAnimationActive,s=this.state.prevSectors;return o&&a&&a.length&&(!s||!Vt(s,a))?this.renderSectorsWithAnimation():this.renderSectorsStatically(a)}},{key:"componentDidMount",value:function(){this.pieRef&&this.attachKeyboardHandlers(this.pieRef)}},{key:"render",value:function(){var t=this,a=this.props,o=a.hide,s=a.sectors,l=a.className,d=a.label,c=a.cx,h=a.cy,f=a.innerRadius,b=a.outerRadius,v=a.isAnimationActive,m=this.state.isAnimationFinished;if(o||!s||!s.length||!fe(c)||!fe(h)||!fe(f)||!fe(b))return null;var p=Q("recharts-pie",l);return g.createElement(K,{tabIndex:this.props.rootTabIndex,className:p,ref:function(A){t.pieRef=A}},this.renderSectors(),d&&this.renderLabels(s),Bt.renderCallByParent(this.props,null,!1),(!v||m)&&Gt.renderCallByParent(this.props,s,!1))}}],[{key:"getDerivedStateFromProps",value:function(t,a){return a.prevIsAnimationActive!==t.isAnimationActive?{prevIsAnimationActive:t.isAnimationActive,prevAnimationId:t.animationId,curSectors:t.sectors,prevSectors:[],isAnimationFinished:!0}:t.isAnimationActive&&t.animationId!==a.prevAnimationId?{prevAnimationId:t.animationId,curSectors:t.sectors,prevSectors:a.curSectors,isAnimationFinished:!0}:t.sectors!==a.curSectors?{curSectors:t.sectors,isAnimationFinished:!0}:null}},{key:"getTextAnchor",value:function(t,a){return t>a?"start":t<a?"end":"middle"}},{key:"renderLabelLineItem",value:function(t,a,o){if(g.isValidElement(t))return g.cloneElement(t,a);if(ne(t))return t(a);var s=Q("recharts-pie-label-line",typeof t!="boolean"?t.className:"");return g.createElement(Mt,pe({},a,{key:o,type:"linear",className:s}))}},{key:"renderLabelItem",value:function(t,a,o){if(g.isValidElement(t))return g.cloneElement(t,a);var s=o;if(ne(t)&&(s=t(a),g.isValidElement(s)))return s;var l=Q("recharts-pie-label-text",typeof t!="boolean"&&!ne(t)?t.className:"");return g.createElement(st,pe({},a,{alignmentBaseline:"middle",className:l}),s)}}])}(W.PureComponent);ze=re;q(re,"displayName","Pie");q(re,"defaultProps",{stroke:"#fff",fill:"#808080",legendType:"rect",cx:"50%",cy:"50%",startAngle:0,endAngle:360,innerRadius:0,outerRadius:"80%",paddingAngle:0,labelLine:!0,hide:!1,minAngle:0,isAnimationActive:!qt.isSsr,animationBegin:400,animationDuration:1500,animationEasing:"ease",nameKey:"name",blendStroke:!1,rootTabIndex:0});q(re,"parseDeltaAngle",function(e,r){var n=Ne(r-e),t=Math.min(Math.abs(r-e),360);return n*t});q(re,"getRealPieData",function(e){var r=e.data,n=e.children,t=_(e,!1),a=Ht(n,Zt);return r&&r.length?r.map(function(o,s){return S(S(S({payload:o},t),o),a&&a[s]&&a[s].props)}):a&&a.length?a.map(function(o){return S(S({},t),o.props)}):[]});q(re,"parseCoordinateOfPie",function(e,r){var n=r.top,t=r.left,a=r.width,o=r.height,s=Jr(a,o),l=t+Ee(e.cx,a,a/2),d=n+Ee(e.cy,o,o/2),c=Ee(e.innerRadius,s,0),h=Ee(e.outerRadius,s,s*.8),f=e.maxRadius||Math.sqrt(a*a+o*o)/2;return{cx:l,cy:d,innerRadius:c,outerRadius:h,maxRadius:f}});q(re,"getComposedData",function(e){var r=e.item,n=e.offset,t=r.type.defaultProps!==void 0?S(S({},r.type.defaultProps),r.props):r.props,a=ze.getRealPieData(t);if(!a||!a.length)return null;var o=t.cornerRadius,s=t.startAngle,l=t.endAngle,d=t.paddingAngle,c=t.dataKey,h=t.nameKey,f=t.valueKey,b=t.tooltipType,v=Math.abs(t.minAngle),m=ze.parseCoordinateOfPie(t,n),p=ze.parseDeltaAngle(s,l),j=Math.abs(p),A=c;te(c)&&te(f)?(mt(!1,`Use "dataKey" to specify the value of pie,
      the props "valueKey" will be deprecated in 1.1.0`),A="value"):te(c)&&(mt(!1,`Use "dataKey" to specify the value of pie,
      the props "valueKey" will be deprecated in 1.1.0`),A=f);var w=a.filter(function(T){return ie(T,A,0)!==0}).length,I=(j>=360?w:w-1)*d,$=j-w*v-I,O=a.reduce(function(T,L){var R=ie(L,A,0);return T+(fe(R)?R:0)},0),E;if(O>0){var N;E=a.map(function(T,L){var R=ie(T,A,0),G=ie(T,h,L),C=(fe(R)?R:0)/O,z;L?z=N.endAngle+Ne(p)*d*(R!==0?1:0):z=s;var Y=z+Ne(p)*((R!==0?v:0)+C*$),J=(z+Y)/2,H=(m.innerRadius+m.outerRadius)/2,u=[{name:G,value:R,payload:T,dataKey:A,type:b}],x=ee(m.cx,m.cy,H,J);return N=S(S(S({percent:C,cornerRadius:o,name:G,tooltipPayload:u,midAngle:J,middleRadius:H,tooltipPosition:x},T),m),{},{value:ie(T,A),startAngle:z,endAngle:Y,payload:T,paddingAngle:Ne(p)*d}),N})}return S(S({},m),{},{sectors:E,data:a})});var qn=["type","layout","connectNulls","ref"],Hn=["key"];function xe(e){"@babel/helpers - typeof";return xe=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(r){return typeof r}:function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},xe(e)}function It(e,r){if(e==null)return{};var n=Zn(e,r),t,a;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(a=0;a<o.length;a++)t=o[a],!(r.indexOf(t)>=0)&&Object.prototype.propertyIsEnumerable.call(e,t)&&(n[t]=e[t])}return n}function Zn(e,r){if(e==null)return{};var n={};for(var t in e)if(Object.prototype.hasOwnProperty.call(e,t)){if(r.indexOf(t)>=0)continue;n[t]=e[t]}return n}function Se(){return Se=Object.assign?Object.assign.bind():function(e){for(var r=1;r<arguments.length;r++){var n=arguments[r];for(var t in n)Object.prototype.hasOwnProperty.call(n,t)&&(e[t]=n[t])}return e},Se.apply(this,arguments)}function _t(e,r){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var t=Object.getOwnPropertySymbols(e);r&&(t=t.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,t)}return n}function V(e){for(var r=1;r<arguments.length;r++){var n=arguments[r]!=null?arguments[r]:{};r%2?_t(Object(n),!0).forEach(function(t){Z(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):_t(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function de(e){return Qn(e)||Jn(e)||Yn(e)||Xn()}function Xn(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Yn(e,r){if(e){if(typeof e=="string")return it(e,r);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return it(e,r)}}function Jn(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function Qn(e){if(Array.isArray(e))return it(e)}function it(e,r){(r==null||r>e.length)&&(r=e.length);for(var n=0,t=new Array(r);n<r;n++)t[n]=e[n];return t}function ei(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}function Tt(e,r){for(var n=0;n<r.length;n++){var t=r[n];t.enumerable=t.enumerable||!1,t.configurable=!0,"value"in t&&(t.writable=!0),Object.defineProperty(e,cr(t.key),t)}}function ti(e,r,n){return r&&Tt(e.prototype,r),n&&Tt(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function ri(e,r,n){return r=Ke(r),ni(e,lr()?Reflect.construct(r,n||[],Ke(e).constructor):r.apply(e,n))}function ni(e,r){if(r&&(xe(r)==="object"||typeof r=="function"))return r;if(r!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return ii(e)}function ii(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function lr(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(lr=function(){return!!e})()}function Ke(e){return Ke=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Ke(e)}function ai(e,r){if(typeof r!="function"&&r!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(r&&r.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),r&&at(e,r)}function at(e,r){return at=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,a){return t.__proto__=a,t},at(e,r)}function Z(e,r,n){return r=cr(r),r in e?Object.defineProperty(e,r,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[r]=n,e}function cr(e){var r=oi(e,"string");return xe(r)=="symbol"?r:r+""}function oi(e,r){if(xe(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var t=n.call(e,r);if(xe(t)!="object")return t;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var Ie=function(e){function r(){var n;ei(this,r);for(var t=arguments.length,a=new Array(t),o=0;o<t;o++)a[o]=arguments[o];return n=ri(this,r,[].concat(a)),Z(n,"state",{isAnimationFinished:!0,totalLength:0}),Z(n,"generateSimpleStrokeDasharray",function(s,l){return"".concat(l,"px ").concat(s-l,"px")}),Z(n,"getStrokeDasharray",function(s,l,d){var c=d.reduce(function(A,w){return A+w});if(!c)return n.generateSimpleStrokeDasharray(l,s);for(var h=Math.floor(s/c),f=s%c,b=l-s,v=[],m=0,p=0;m<d.length;p+=d[m],++m)if(p+d[m]>f){v=[].concat(de(d.slice(0,m)),[f-p]);break}var j=v.length%2===0?[0,b]:[b];return[].concat(de(r.repeat(d,h)),de(v),j).map(function(A){return"".concat(A,"px")}).join(", ")}),Z(n,"id",Ut("recharts-line-")),Z(n,"pathRef",function(s){n.mainCurve=s}),Z(n,"handleAnimationEnd",function(){n.setState({isAnimationFinished:!0}),n.props.onAnimationEnd&&n.props.onAnimationEnd()}),Z(n,"handleAnimationStart",function(){n.setState({isAnimationFinished:!1}),n.props.onAnimationStart&&n.props.onAnimationStart()}),n}return ai(r,e),ti(r,[{key:"componentDidMount",value:function(){if(this.props.isAnimationActive){var t=this.getTotalLength();this.setState({totalLength:t})}}},{key:"componentDidUpdate",value:function(){if(this.props.isAnimationActive){var t=this.getTotalLength();t!==this.state.totalLength&&this.setState({totalLength:t})}}},{key:"getTotalLength",value:function(){var t=this.mainCurve;try{return t&&t.getTotalLength&&t.getTotalLength()||0}catch{return 0}}},{key:"renderErrorBar",value:function(t,a){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var o=this.props,s=o.points,l=o.xAxis,d=o.yAxis,c=o.layout,h=o.children,f=Ht(h,Qr);if(!f)return null;var b=function(p,j){return{x:p.x,y:p.y,value:p.value,errorVal:ie(p.payload,j)}},v={clipPath:t?"url(#clipPath-".concat(a,")"):null};return g.createElement(K,v,f.map(function(m){return g.cloneElement(m,{key:"bar-".concat(m.props.dataKey),data:s,xAxis:l,yAxis:d,layout:c,dataPointFormatter:b})}))}},{key:"renderDots",value:function(t,a,o){var s=this.props.isAnimationActive;if(s&&!this.state.isAnimationFinished)return null;var l=this.props,d=l.dot,c=l.points,h=l.dataKey,f=_(this.props,!1),b=_(d,!0),v=c.map(function(p,j){var A=V(V(V({key:"dot-".concat(j),r:3},f),b),{},{index:j,cx:p.x,cy:p.y,value:p.value,dataKey:h,payload:p.payload,points:c});return r.renderDotItem(d,A)}),m={clipPath:t?"url(#clipPath-".concat(a?"":"dots-").concat(o,")"):null};return g.createElement(K,Se({className:"recharts-line-dots",key:"dots"},m),v)}},{key:"renderCurveStatically",value:function(t,a,o,s){var l=this.props,d=l.type,c=l.layout,h=l.connectNulls;l.ref;var f=It(l,qn),b=V(V(V({},_(f,!0)),{},{fill:"none",className:"recharts-line-curve",clipPath:a?"url(#clipPath-".concat(o,")"):null,points:t},s),{},{type:d,layout:c,connectNulls:h});return g.createElement(Mt,Se({},b,{pathRef:this.pathRef}))}},{key:"renderCurveWithAnimation",value:function(t,a){var o=this,s=this.props,l=s.points,d=s.strokeDasharray,c=s.isAnimationActive,h=s.animationBegin,f=s.animationDuration,b=s.animationEasing,v=s.animationId,m=s.animateNewValues,p=s.width,j=s.height,A=this.state,w=A.prevPoints,I=A.totalLength;return g.createElement(Kt,{begin:h,duration:f,isActive:c,easing:b,from:{t:0},to:{t:1},key:"line-".concat(v),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function($){var O=$.t;if(w){var E=w.length/l.length,N=l.map(function(C,z){var Y=Math.floor(z*E);if(w[Y]){var J=w[Y],H=le(J.x,C.x),u=le(J.y,C.y);return V(V({},C),{},{x:H(O),y:u(O)})}if(m){var x=le(p*2,C.x),D=le(j/2,C.y);return V(V({},C),{},{x:x(O),y:D(O)})}return V(V({},C),{},{x:C.x,y:C.y})});return o.renderCurveStatically(N,t,a)}var T=le(0,I),L=T(O),R;if(d){var G="".concat(d).split(/[,\s]+/gim).map(function(C){return parseFloat(C)});R=o.getStrokeDasharray(L,I,G)}else R=o.generateSimpleStrokeDasharray(I,L);return o.renderCurveStatically(l,t,a,{strokeDasharray:R})})}},{key:"renderCurve",value:function(t,a){var o=this.props,s=o.points,l=o.isAnimationActive,d=this.state,c=d.prevPoints,h=d.totalLength;return l&&s&&s.length&&(!c&&h>0||!Vt(c,s))?this.renderCurveWithAnimation(t,a):this.renderCurveStatically(s,t,a)}},{key:"render",value:function(){var t,a=this.props,o=a.hide,s=a.dot,l=a.points,d=a.className,c=a.xAxis,h=a.yAxis,f=a.top,b=a.left,v=a.width,m=a.height,p=a.isAnimationActive,j=a.id;if(o||!l||!l.length)return null;var A=this.state.isAnimationFinished,w=l.length===1,I=Q("recharts-line",d),$=c&&c.allowDataOverflow,O=h&&h.allowDataOverflow,E=$||O,N=te(j)?this.id:j,T=(t=_(s,!1))!==null&&t!==void 0?t:{r:3,strokeWidth:2},L=T.r,R=L===void 0?3:L,G=T.strokeWidth,C=G===void 0?2:G,z=en(s)?s:{},Y=z.clipDot,J=Y===void 0?!0:Y,H=R*2+C;return g.createElement(K,{className:I},$||O?g.createElement("defs",null,g.createElement("clipPath",{id:"clipPath-".concat(N)},g.createElement("rect",{x:$?b:b-v/2,y:O?f:f-m/2,width:$?v:v*2,height:O?m:m*2})),!J&&g.createElement("clipPath",{id:"clipPath-dots-".concat(N)},g.createElement("rect",{x:b-H/2,y:f-H/2,width:v+H,height:m+H}))):null,!w&&this.renderCurve(E,N),this.renderErrorBar(E,N),(w||s)&&this.renderDots(E,J,N),(!p||A)&&Gt.renderCallByParent(this.props,l))}}],[{key:"getDerivedStateFromProps",value:function(t,a){return t.animationId!==a.prevAnimationId?{prevAnimationId:t.animationId,curPoints:t.points,prevPoints:a.curPoints}:t.points!==a.curPoints?{curPoints:t.points}:null}},{key:"repeat",value:function(t,a){for(var o=t.length%2!==0?[].concat(de(t),[0]):t,s=[],l=0;l<a;++l)s=[].concat(de(s),de(o));return s}},{key:"renderDotItem",value:function(t,a){var o;if(g.isValidElement(t))o=g.cloneElement(t,a);else if(ne(t))o=t(a);else{var s=a.key,l=It(a,Hn),d=Q("recharts-line-dot",typeof t!="boolean"?t.className:"");o=g.createElement(Ft,Se({key:s},l,{className:d}))}return o}}])}(W.PureComponent);Z(Ie,"displayName","Line");Z(Ie,"defaultProps",{xAxisId:0,yAxisId:0,connectNulls:!1,activeDot:!0,dot:!0,legendType:"line",stroke:"#3182bd",strokeWidth:1,fill:"#fff",points:[],isAnimationActive:!qt.isSsr,animateNewValues:!0,animationBegin:0,animationDuration:1500,animationEasing:"ease",hide:!1,label:!1});Z(Ie,"getComposedData",function(e){var r=e.props,n=e.xAxis,t=e.yAxis,a=e.xAxisTicks,o=e.yAxisTicks,s=e.dataKey,l=e.bandSize,d=e.displayedData,c=e.offset,h=r.layout,f=d.map(function(b,v){var m=ie(b,s);return h==="horizontal"?{x:vt({axis:n,ticks:a,bandSize:l,entry:b,index:v}),y:te(m)?null:t.scale(m),value:m,payload:b}:{x:te(m)?null:n.scale(m),y:vt({axis:t,ticks:o,bandSize:l,entry:b,index:v}),value:m,payload:b}});return V({points:f,layout:h},c)});var si=Xt({chartName:"LineChart",GraphicalChild:Ie,axisComponents:[{axisType:"xAxis",AxisComp:Yt},{axisType:"yAxis",AxisComp:Jt}],formatAxisMap:tn}),li=Xt({chartName:"PieChart",GraphicalChild:re,validateTooltipEventTypes:["item"],defaultTooltipEventType:"item",legendContent:"children",axisComponents:[{axisType:"angleAxis",AxisComp:qe},{axisType:"radiusAxis",AxisComp:Ge}],formatAxisMap:rn,defaultProps:{layout:"centric",startAngle:0,endAngle:360,cx:"50%",cy:"50%",innerRadius:0,outerRadius:"80%"}});const ci=({products:e,loading:r})=>{const n=e.filter(o=>o.competitionAnalysis&&Number(o.competitionAnalysis.competitorPrice)>0&&o.sellingPrice>Number(o.competitionAnalysis.competitorPrice)),t=n.slice(0,5),a=n.length-5;return r?i.jsx(k,{sx:{display:"flex",justifyContent:"center",p:3},children:i.jsx(ue,{size:24})}):n.length===0?i.jsx(k,{sx:{p:2,textAlign:"center"},children:i.jsx(y,{variant:"body2",color:"text.secondary",children:"No high-priced products found."})}):i.jsxs(M,{sx:{p:2,height:"100%",backgroundColor:"#ffebee",border:"1px solid #f44336"},children:[i.jsxs(k,{sx:{display:"flex",alignItems:"center",mb:2},children:[i.jsx(ur,{sx:{mr:1,color:"#d32f2f"}}),i.jsx(y,{variant:"h6",component:"h2",sx:{color:"#b71c1c",fontWeight:"bold"},children:"High-Priced Products"}),i.jsx(Oe,{label:n.length,color:"error",size:"small",sx:{ml:1,bgcolor:"#d32f2f",color:"white"}})]}),i.jsx(dr,{sx:{mb:2}}),i.jsx(Ct,{dense:!0,sx:{mb:1},children:t.map(o=>{var s;return i.jsx(Et,{sx:{mb:1,borderRadius:1,bgcolor:"background.paper","&:hover":{bgcolor:"action.hover"}},children:i.jsx(Lt,{primary:i.jsx(y,{variant:"body2",noWrap:!0,title:o.name,children:o.name.length>30?`${o.name.substring(0,30)}...`:o.name}),secondary:i.jsxs("span",{children:[i.jsxs("span",{style:{display:"flex",justifyContent:"space-between",marginTop:"4px"},children:[i.jsxs(y,{variant:"caption",color:"error",component:"span",children:["Our price: ",i.jsx(pt,{value:o.sellingPrice})]}),i.jsxs(y,{variant:"caption",color:"success.main",component:"span",children:["Competitor: ",i.jsx(pt,{value:Number(((s=o.competitionAnalysis)==null?void 0:s.competitorPrice)||0)})]})]}),i.jsxs("span",{style:{display:"flex",alignItems:"center",marginTop:"4px"},children:[i.jsx(y,{variant:"caption",color:o.platform==="amazon"?"primary":"secondary",component:"span",sx:{mr:1,fontWeight:"bold",textTransform:"uppercase"},children:o.platform}),i.jsxs(y,{variant:"caption",color:"text.secondary",component:"span",children:["SKU: ",o.sku]})]})]})})},`${o.sku}-${o.platform}`)})}),a>0&&i.jsx(k,{sx:{textAlign:"center"},children:i.jsxs(X,{variant:"outlined",color:"error",size:"small",component:ke,to:"/hidden-products/",sx:{fontSize:"0.75rem"},children:["View ",a," more high-priced products"]})}),n.length>0&&n.length<=5&&i.jsx(k,{sx:{textAlign:"center"},children:i.jsx(fr,{component:ke,to:"/hidden-products/",color:"primary",underline:"hover",sx:{fontSize:"0.875rem"},children:"Manage Pricing"})})]})},ui=({products:e,loading:r})=>{const n=Cr(),t=g.useMemo(()=>e.filter(o=>!o.categoryId||o.categoryId.trim()===""),[e]),a=()=>{n("/uncategorized-products/")};return r?i.jsx(M,{sx:{p:2,height:"100%",display:"flex",alignItems:"center",justifyContent:"center"},children:i.jsx(ue,{size:40})}):t.length===0?i.jsxs(M,{sx:{p:2,height:"100%"},children:[i.jsxs(k,{sx:{display:"flex",alignItems:"center",mb:2},children:[i.jsx(dt,{sx:{mr:1,color:"success.main"}}),i.jsx(y,{variant:"h6",sx:{fontWeight:"bold",color:"success.dark"},children:"All Products Categorized"})]}),i.jsxs(k,{sx:{textAlign:"center",py:2},children:[i.jsx(dt,{sx:{fontSize:48,color:"success.main",mb:1}}),i.jsx(y,{variant:"body1",color:"text.secondary",children:"Great! All products have categories assigned."})]})]}):i.jsxs(M,{sx:{p:2,height:"100%"},children:[i.jsxs(k,{sx:{display:"flex",alignItems:"center",mb:2},children:[i.jsx(ot,{sx:{mr:1,color:"warning.main"}}),i.jsx(y,{variant:"h6",sx:{fontWeight:"bold",color:"warning.dark"},children:"Uncategorized Products"}),i.jsx(Oe,{label:t.length,color:"warning",size:"small",sx:{ml:"auto"}})]}),i.jsxs(Je,{severity:"warning",sx:{mb:2},children:[i.jsx(hr,{children:"Action Required"}),t.length," product(s) need category assignment."]}),"            ",i.jsx(Ct,{sx:{maxHeight:200,overflow:"auto"},children:t.slice(0,5).map(o=>i.jsx(Et,{sx:{py:.5},children:i.jsx(Lt,{primary:i.jsx(y,{variant:"body2",sx:{fontWeight:"medium"},children:o.name}),secondary:i.jsxs(k,{sx:{display:"flex",alignItems:"center",gap:1},children:[i.jsxs(y,{variant:"caption",color:"text.secondary",children:["SKU: ",o.sku]}),i.jsx(Oe,{label:o.platform.toUpperCase(),size:"small",color:o.platform==="amazon"?"default":"primary",sx:{height:16,fontSize:"0.6rem"}})]})})},o.sku))}),t.length>5&&i.jsxs(y,{variant:"caption",color:"text.secondary",sx:{display:"block",mt:1,textAlign:"center"},children:["... and ",t.length-5," more"]}),i.jsx(X,{variant:"outlined",color:"warning",fullWidth:!0,sx:{mt:2},onClick:a,children:"View All Uncategorized Products"})]})},Le={low:"#2e7d32",medium:"#e65100",high:"#c62828",critical:"#b71c1c"},di={low_stock:i.jsx(ot,{}),zero_stock:i.jsx(We,{}),negative_stock:i.jsx(We,{color:"error"})},Re={low_stock:"Low Stock",zero_stock:"Zero Stock",negative_stock:"Negative Stock"},fi=({variant:e="full",maxAlertsInWidget:r=5,onManualAdjustment:n,onViewCategoryGroup:t})=>{const a=Dt(),o=U(Er),s=U(Lr),l=U($t),d=U(Rr),c=U(Dr),h=U($r),[f,b]=W.useState({severity:"all",alertType:"all",categoryGroupId:"all",status:"active",search:""}),[v,m]=W.useState({open:!1,message:"",severity:"success"}),[p,j]=W.useState({open:!1,alertId:"",action:"",alertInfo:""}),[A,w]=W.useState(!1),[I,$]=W.useState(),O=W.useMemo(()=>c.reduce((u,x)=>(x.id&&(u[x.id]=x),u),{}),[c]),E=W.useMemo(()=>{let u=o;if(f.status==="active"?u=u.filter(x=>x.isActive):f.status==="acknowledged"?u=u.filter(x=>x.acknowledgedBy&&x.isActive):f.status==="resolved"&&(u=u.filter(x=>!x.isActive)),f.severity!=="all"&&(u=u.filter(x=>x.severity===f.severity)),f.alertType!=="all"&&(u=u.filter(x=>x.alertType===f.alertType)),f.categoryGroupId!=="all"&&(u=u.filter(x=>x.categoryGroupId===f.categoryGroupId)),f.search){const x=f.search.toLowerCase();u=u.filter(D=>{const F=O[D.categoryGroupId];return(F==null?void 0:F.name.toLowerCase().includes(x))||(F==null?void 0:F.description.toLowerCase().includes(x))||Re[D.alertType].toLowerCase().includes(x)})}return u.sort((x,D)=>{var ct,ut;const F={critical:0,high:1,medium:2,low:3},ae=F[x.severity]-F[D.severity];if(ae!==0)return ae;const ge=((ct=x.createdAt)==null?void 0:ct.toDate().getTime())||0;return(((ut=D.createdAt)==null?void 0:ut.toDate().getTime())||0)-ge})},[o,f,O]),N=W.useMemo(()=>e==="widget"?E.slice(0,r):E,[E,e,r]);W.useEffect(()=>{a($e()),a(Nr())},[a]),W.useEffect(()=>{if(A){const u=setInterval(()=>{a($e())},3e4);$(u)}else I&&(clearInterval(I),$(void 0));return()=>{I&&clearInterval(I)}},[A,a]),W.useEffect(()=>{d.alertAcknowledgment&&(m({open:!0,message:d.alertAcknowledgment,severity:"error"}),a(zr())),d.alertResolution&&(m({open:!0,message:d.alertResolution,severity:"error"}),a(Wr()))},[d.alertAcknowledgment,d.alertResolution,a]);const T=()=>{a($e())},L=(u,x)=>{b(D=>({...D,[u]:x}))},R=()=>{b({severity:"all",alertType:"all",categoryGroupId:"all",status:"active",search:""})},G=(u,x,D)=>{j({open:!0,alertId:u,action:x,alertInfo:D})},C=async()=>{if(!(h!=null&&h.uid)){m({open:!0,message:"User not authenticated",severity:"error"});return}const{alertId:u,action:x}=p;try{x==="acknowledge"?(await a(Br({alertId:u,acknowledgedBy:h.uid})).unwrap(),m({open:!0,message:"Alert acknowledged successfully",severity:"success"})):x==="resolve"&&(await a(Fr({alertId:u,acknowledgedBy:h.uid})).unwrap(),m({open:!0,message:"Alert resolved successfully",severity:"success"}))}catch(D){m({open:!0,message:`Failed to ${x} alert: ${D}`,severity:"error"})}j({open:!1,alertId:"",action:"acknowledge",alertInfo:""})},z=u=>{if(!u)return"Unknown";let x;typeof u=="object"&&u&&"toDate"in u&&typeof u.toDate=="function"?x=u.toDate():x=new Date(u);const F=new Date().getTime()-x.getTime(),ae=Math.floor(F/(1e3*60)),ge=Math.floor(ae/60),He=Math.floor(ge/24);return ae<1?"Just now":ae<60?`${ae}m ago`:ge<24?`${ge}h ago`:He<7?`${He}d ago`:x.toLocaleDateString()},Y=u=>{const x=O[u.categoryGroupId],D=!!u.acknowledgedBy,F=!u.isActive;return i.jsx(je,{sx:{mb:2,border:`2px solid ${Le[u.severity]}`,opacity:F?.6:1,"&:hover":{boxShadow:4}},children:i.jsx(Ae,{children:i.jsxs(P,{container:!0,spacing:2,alignItems:"center",children:[i.jsx(P,{item:!0,xs:12,sm:3,children:i.jsxs(k,{display:"flex",alignItems:"center",gap:1,children:[i.jsx(k,{sx:{color:Le[u.severity],display:"flex",alignItems:"center"},children:di[u.alertType]}),i.jsxs(k,{children:[i.jsx(y,{variant:"body2",color:"text.secondary",children:Re[u.alertType]}),i.jsx(Oe,{label:u.severity.toUpperCase(),size:"small",sx:{backgroundColor:Le[u.severity],color:"#ffffff",fontWeight:"bold","&:hover":{backgroundColor:Le[u.severity],filter:"brightness(0.9)"}}})]})]})}),i.jsx(P,{item:!0,xs:12,sm:4,children:i.jsxs(k,{children:[i.jsxs(k,{display:"flex",alignItems:"center",gap:1,mb:1,children:[x&&i.jsx(k,{sx:{width:12,height:12,backgroundColor:x.color,borderRadius:"50%"}}),i.jsx(y,{variant:"body1",fontWeight:"medium",children:(x==null?void 0:x.name)||"Unknown Category"})]}),i.jsxs(y,{variant:"body2",color:"text.secondary",children:["Current: ",i.jsxs("strong",{children:[u.currentLevel," ",u.unit]})]}),i.jsxs(y,{variant:"body2",color:"text.secondary",children:["Threshold: ",i.jsxs("strong",{children:[u.thresholdLevel," ",u.unit]})]})]})}),i.jsx(P,{item:!0,xs:12,sm:3,children:i.jsxs(k,{children:[i.jsxs(y,{variant:"body2",color:"text.secondary",display:"flex",alignItems:"center",gap:.5,children:[i.jsx(Sr,{fontSize:"small"}),"Created: ",z(u.createdAt)]}),D&&i.jsxs(y,{variant:"body2",color:"text.secondary",display:"flex",alignItems:"center",gap:.5,children:[i.jsx(Or,{fontSize:"small"}),"Acknowledged: ",z(u.acknowledgedAt)]}),F&&i.jsxs(y,{variant:"body2",color:"text.secondary",display:"flex",alignItems:"center",gap:.5,children:[i.jsx(Qe,{fontSize:"small"}),"Resolved: ",z(u.resolvedAt)]})]})}),i.jsx(P,{item:!0,xs:12,sm:2,children:i.jsxs(De,{direction:"row",spacing:1,justifyContent:"flex-end",children:[u.isActive&&!D&&i.jsx(be,{title:"Acknowledge Alert",children:i.jsx(Ze,{size:"small",onClick:()=>G(u.id,"acknowledge",`${x==null?void 0:x.name} - ${Re[u.alertType]}`),disabled:l.alertAcknowledgment,children:i.jsx(Ir,{})})}),u.isActive&&i.jsx(be,{title:"Resolve Alert",children:i.jsx(Ze,{size:"small",color:"success",onClick:()=>G(u.id,"resolve",`${x==null?void 0:x.name} - ${Re[u.alertType]}`),disabled:l.alertResolution,children:i.jsx(Qe,{})})}),n&&u.isActive&&i.jsx(be,{title:"Manual Adjustment",children:i.jsx(X,{size:"small",variant:"outlined",onClick:()=>n(u.categoryGroupId),children:"Adjust"})}),t&&i.jsx(be,{title:"View Category Group",children:i.jsx(X,{size:"small",variant:"text",onClick:()=>t(u.categoryGroupId),children:"View"})})]})})]})})},u.id)},J=()=>i.jsx(M,{sx:{p:2,mb:2},children:i.jsxs(P,{container:!0,spacing:2,alignItems:"center",children:[i.jsx(P,{item:!0,xs:12,sm:6,md:2,children:i.jsx(Ar,{fullWidth:!0,size:"small",placeholder:"Search alerts...",value:f.search,onChange:u=>L("search",u.target.value),InputProps:{startAdornment:i.jsx(kr,{position:"start",children:i.jsx(wr,{})})}})}),i.jsx(P,{item:!0,xs:6,sm:3,md:2,children:i.jsxs(_e,{fullWidth:!0,size:"small",children:[i.jsx(Te,{children:"Status"}),i.jsxs(Ce,{value:f.status,label:"Status",onChange:u=>L("status",u.target.value),children:[i.jsx(B,{value:"all",children:"All"}),i.jsx(B,{value:"active",children:"Active"}),i.jsx(B,{value:"acknowledged",children:"Acknowledged"}),i.jsx(B,{value:"resolved",children:"Resolved"})]})]})}),i.jsx(P,{item:!0,xs:6,sm:3,md:2,children:i.jsxs(_e,{fullWidth:!0,size:"small",children:[i.jsx(Te,{children:"Severity"}),i.jsxs(Ce,{value:f.severity,label:"Severity",onChange:u=>L("severity",u.target.value),children:[i.jsx(B,{value:"all",children:"All"}),i.jsx(B,{value:"critical",children:"Critical"}),i.jsx(B,{value:"high",children:"High"}),i.jsx(B,{value:"medium",children:"Medium"}),i.jsx(B,{value:"low",children:"Low"})]})]})}),i.jsx(P,{item:!0,xs:6,sm:3,md:2,children:i.jsxs(_e,{fullWidth:!0,size:"small",children:[i.jsx(Te,{children:"Alert Type"}),i.jsxs(Ce,{value:f.alertType,label:"Alert Type",onChange:u=>L("alertType",u.target.value),children:[i.jsx(B,{value:"all",children:"All"}),i.jsx(B,{value:"low_stock",children:"Low Stock"}),i.jsx(B,{value:"zero_stock",children:"Zero Stock"}),i.jsx(B,{value:"negative_stock",children:"Negative Stock"})]})]})}),i.jsx(P,{item:!0,xs:6,sm:3,md:2,children:i.jsxs(_e,{fullWidth:!0,size:"small",children:[i.jsx(Te,{children:"Category Group"}),i.jsxs(Ce,{value:f.categoryGroupId,label:"Category Group",onChange:u=>L("categoryGroupId",u.target.value),children:[i.jsx(B,{value:"all",children:"All"}),c.map(u=>i.jsx(B,{value:u.id,children:u.name},u.id))]})]})}),i.jsx(P,{item:!0,xs:6,sm:3,md:2,children:i.jsx(De,{direction:"row",spacing:1,children:i.jsx(X,{variant:"outlined",size:"small",startIcon:i.jsx(Pr,{}),onClick:R,children:"Clear"})})})]})}),H=()=>i.jsxs(k,{display:"flex",justifyContent:"space-between",alignItems:"center",mb:2,children:[i.jsxs(y,{variant:e==="widget"?"h6":"h5",component:"h2",children:["Inventory Alerts",i.jsx(jr,{badgeContent:s.length,color:"error",sx:{ml:1},children:i.jsx(k,{})})]}),i.jsxs(De,{direction:"row",spacing:1,children:[i.jsx(be,{title:"Refresh Alerts",children:i.jsx(Ze,{onClick:T,disabled:l.inventoryAlerts,children:l.inventoryAlerts?i.jsx(ue,{size:20}):i.jsx(ft,{})})}),e==="full"&&i.jsx(X,{variant:A?"contained":"outlined",size:"small",onClick:()=>w(!A),startIcon:i.jsx(ft,{}),children:"Auto Refresh"})]})]});return l.inventoryAlerts&&o.length===0?i.jsxs(k,{display:"flex",justifyContent:"center",alignItems:"center",p:4,children:[i.jsx(ue,{}),i.jsx(y,{variant:"body1",sx:{ml:2},children:"Loading alerts..."})]}):i.jsxs(k,{children:[H(),e==="full"&&J(),d.inventoryAlerts&&i.jsx(Je,{severity:"error",sx:{mb:2},children:d.inventoryAlerts}),N.length===0?i.jsxs(M,{sx:{p:4,textAlign:"center"},children:[i.jsx(pr,{sx:{fontSize:48,color:"text.secondary",mb:2}}),i.jsx(y,{variant:"h6",color:"text.secondary",children:"No alerts found"}),i.jsx(y,{variant:"body2",color:"text.secondary",children:f.status==="active"?"All inventory levels are above their thresholds!":"Try adjusting your filters to see more alerts."})]}):i.jsxs(k,{children:[N.map(Y),e==="widget"&&E.length>r&&i.jsx(k,{textAlign:"center",mt:2,children:i.jsxs(y,{variant:"body2",color:"text.secondary",children:["Showing ",r," of ",E.length," alerts"]})})]}),i.jsxs(mr,{open:p.open,onClose:()=>j({open:!1,alertId:"",action:"acknowledge",alertInfo:""}),children:[i.jsx(vr,{children:p.action==="acknowledge"?"Acknowledge Alert":"Resolve Alert"}),i.jsx(yr,{children:i.jsxs(xr,{children:["Are you sure you want to ",p.action," this alert?",i.jsx("br",{}),i.jsx("strong",{children:p.alertInfo})]})}),i.jsxs(gr,{children:[i.jsx(X,{onClick:()=>j({open:!1,alertId:"",action:"acknowledge",alertInfo:""}),children:"Cancel"}),i.jsx(X,{onClick:C,color:"primary",variant:"contained",disabled:l.alertAcknowledgment||l.alertResolution,children:l.alertAcknowledgment||l.alertResolution?i.jsx(ue,{size:20}):p.action==="acknowledge"?"Acknowledge":"Resolve"})]})]}),i.jsx(br,{open:v.open,autoHideDuration:6e3,onClose:()=>m({...v,open:!1}),children:i.jsx(Je,{onClose:()=>m({...v,open:!1}),severity:v.severity,children:v.message})})]})},hi=({maxAlertsInWidget:e=5,onManualAdjustment:r,onViewCategoryGroup:n})=>i.jsx(fi,{variant:"widget",maxAlertsInWidget:e,onManualAdjustment:r,onViewCategoryGroup:n}),pi=({inventoryLevels:e,loading:r})=>{const n=_r(),t=Tr(n.breakpoints.down("md")),a=g.useMemo(()=>e.reduce((c,h)=>{switch(h.status){case"healthy":c.healthyStock++;break;case"low_stock":c.lowStock++;break;case"zero_stock":c.zeroStock++;break;case"negative_stock":c.negativeStock++;break}return c},{healthyStock:0,lowStock:0,zeroStock:0,negativeStock:0}),[e]),o=g.useMemo(()=>{const c=[];return a.healthyStock>0&&c.push({name:"Healthy Stock",value:a.healthyStock,color:n.palette.success.main,status:"healthy"}),a.lowStock>0&&c.push({name:"Low Stock",value:a.lowStock,color:n.palette.warning.main,status:"low_stock"}),a.zeroStock>0&&c.push({name:"Zero Stock",value:a.zeroStock,color:n.palette.error.main,status:"zero_stock"}),a.negativeStock>0&&c.push({name:"Negative Stock",value:a.negativeStock,color:n.palette.error.dark,status:"negative_stock"}),c},[a,n.palette]),s=e.length,l=a.lowStock+a.zeroStock+a.negativeStock,d=({active:c,payload:h})=>{if(c&&h&&h.length){const f=h[0];return i.jsxs(k,{sx:{backgroundColor:"background.paper",border:"1px solid #ccc",borderRadius:1,p:1.5,boxShadow:2},children:[i.jsx(y,{variant:"body2",fontWeight:"bold",mb:.5,children:f.name}),i.jsxs(y,{variant:"body2",color:"primary",children:[f.value," categories"]}),i.jsxs(y,{variant:"caption",color:"text.secondary",children:[s>0?Math.round(f.value/s*100):0,"% of total"]})]})}return null};return r?i.jsx(M,{sx:{p:3,height:"100%",display:"flex",alignItems:"center",justifyContent:"center"},children:i.jsx(ue,{size:24})}):s===0?i.jsxs(M,{sx:{p:3,height:"100%",textAlign:"center"},children:[i.jsx(ht,{sx:{fontSize:48,color:"text.secondary",mb:2}}),i.jsx(y,{variant:"h6",color:"text.secondary",gutterBottom:!0,children:"No Inventory Data"}),i.jsx(y,{variant:"body2",color:"text.secondary",mb:2,children:"No inventory levels found. Start by setting up category groups and their inventory levels."}),i.jsx(X,{variant:"outlined",component:ke,to:"/inventory",size:"small",children:"Manage Inventory"})]}):i.jsxs(M,{sx:{p:2,height:"100%",border:"1px solid",borderColor:"divider"},children:[i.jsxs(k,{sx:{display:"flex",alignItems:"center",mb:2},children:[i.jsx(ht,{sx:{mr:1,color:"primary.main"}}),i.jsx(y,{variant:"h6",component:"h2",sx:{color:"primary.dark",fontWeight:"bold"},children:"Inventory Overview"}),i.jsx(Oe,{label:s,color:"primary",size:"small",sx:{ml:1}})]}),i.jsxs(P,{container:!0,spacing:2,sx:{mb:2},children:[i.jsx(P,{item:!0,xs:6,sm:3,children:i.jsx(je,{sx:{height:"100%",bgcolor:"success.light",color:"success.contrastText"},children:i.jsxs(Ae,{sx:{p:1.5,"&:last-child":{pb:1.5}},children:[i.jsxs(k,{sx:{display:"flex",alignItems:"center",mb:.5},children:[i.jsx(Qe,{sx:{fontSize:16,mr:.5}}),i.jsx(y,{variant:"caption",fontWeight:"medium",children:"Healthy"})]}),i.jsx(y,{variant:"h6",fontWeight:"bold",children:a.healthyStock})]})})}),i.jsx(P,{item:!0,xs:6,sm:3,children:i.jsx(je,{sx:{height:"100%",bgcolor:"warning.light",color:"warning.contrastText"},children:i.jsxs(Ae,{sx:{p:1.5,"&:last-child":{pb:1.5}},children:[i.jsxs(k,{sx:{display:"flex",alignItems:"center",mb:.5},children:[i.jsx(ot,{sx:{fontSize:16,mr:.5}}),i.jsx(y,{variant:"caption",fontWeight:"medium",children:"Low Stock"})]}),i.jsx(y,{variant:"h6",fontWeight:"bold",children:a.lowStock})]})})}),i.jsx(P,{item:!0,xs:6,sm:3,children:i.jsx(je,{sx:{height:"100%",bgcolor:"error.light",color:"error.contrastText"},children:i.jsxs(Ae,{sx:{p:1.5,"&:last-child":{pb:1.5}},children:[i.jsxs(k,{sx:{display:"flex",alignItems:"center",mb:.5},children:[i.jsx(We,{sx:{fontSize:16,mr:.5}}),i.jsx(y,{variant:"caption",fontWeight:"medium",children:"Zero Stock"})]}),i.jsx(y,{variant:"h6",fontWeight:"bold",children:a.zeroStock})]})})}),i.jsx(P,{item:!0,xs:6,sm:3,children:i.jsx(je,{sx:{height:"100%",bgcolor:"error.dark",color:"common.white"},children:i.jsxs(Ae,{sx:{p:1.5,"&:last-child":{pb:1.5}},children:[i.jsxs(k,{sx:{display:"flex",alignItems:"center",mb:.5},children:[i.jsx(We,{sx:{fontSize:16,mr:.5}}),i.jsx(y,{variant:"caption",fontWeight:"medium",children:"Negative"})]}),i.jsx(y,{variant:"h6",fontWeight:"bold",children:a.negativeStock})]})})})]}),o.length>0&&i.jsx(k,{sx:{height:t?200:250,mb:2},children:i.jsx(Qt,{width:"100%",height:"100%",children:i.jsxs(li,{children:[i.jsx(re,{data:o,cx:"50%",cy:"50%",outerRadius:t?60:80,innerRadius:t?30:40,paddingAngle:2,dataKey:"value",children:o.map((c,h)=>i.jsx(Zt,{fill:c.color},`cell-${h}`))}),i.jsx(er,{content:i.jsx(d,{})}),i.jsx(tr,{wrapperStyle:{fontSize:"12px"},iconType:"circle"})]})})}),i.jsxs(De,{direction:"row",spacing:1,justifyContent:"center",flexWrap:"wrap",children:[i.jsx(X,{variant:"outlined",component:ke,to:"/inventory",size:"small",sx:{fontSize:"0.75rem"},children:"View All Inventory"}),l>0&&i.jsxs(X,{variant:"contained",color:"warning",component:ke,to:"/inventory?filter=alerts",size:"small",sx:{fontSize:"0.75rem"},children:["View ",l," Alerts"]})]}),i.jsx(k,{sx:{mt:2,pt:1,borderTop:"1px solid",borderColor:"divider"},children:i.jsx(y,{variant:"caption",color:"text.secondary",align:"center",display:"block",children:l>0?`${l} of ${s} categories need attention`:`All ${s} categories are healthy`})})]})},wi=()=>{const e=Dt(),{items:r,loading:n}=U(v=>v.products),{items:t}=U(v=>v.orders),{dailyOrders:a}=U(v=>v.orderHistory),o=U(Mr),s=U(Kr),l=U($t);W.useEffect(()=>{o&&(e(Vr({})),e(Gr()),e(Ur()),e(qr()),e($e()))},[e,o]);const d=t.length,c=r.length,h=t.reduce((v,m)=>{var A;const p=((A=m.product)==null?void 0:A.sellingPrice)||0,j=parseInt(m.quantity)||0;return v+p*j},0),f=d>0?h/d:0;if(n)return i.jsx(k,{sx:{display:"flex",justifyContent:"center",alignItems:"center",height:"100vh"},children:i.jsx(ue,{})});const b=a.map(v=>({date:v.date,orders:v.orders.length}));return i.jsxs(k,{sx:{p:3},children:[i.jsxs(k,{sx:{display:"flex",alignItems:"center",mb:3},children:[i.jsx(y,{variant:"h4",component:"h1",sx:{fontWeight:"bold",color:"primary.dark"},children:"Dashboard"}),i.jsx(k,{sx:{flexGrow:1}}),i.jsx(y,{variant:"subtitle1",color:"text.secondary",children:new Date().toLocaleDateString("en-US",{weekday:"long",year:"numeric",month:"long",day:"numeric"})})]}),i.jsxs(P,{container:!0,spacing:3,sx:{mb:3},children:[i.jsx(P,{item:!0,xs:12,sm:6,md:3,children:i.jsxs(M,{sx:{p:2,borderRadius:2,borderLeft:"4px solid",borderColor:"primary.main",height:"100%"},children:[i.jsx(k,{sx:{display:"flex",alignItems:"center",mb:1},children:i.jsx(y,{variant:"subtitle1",color:"text.secondary",fontWeight:"medium",children:"Total Orders"})}),i.jsx(y,{variant:"h4",sx:{fontWeight:"bold",color:"primary.dark"},children:d}),i.jsx(y,{variant:"body2",color:"text.secondary",sx:{mt:1},children:"Across all platforms"})]})}),i.jsx(P,{item:!0,xs:12,sm:6,md:3,children:i.jsxs(M,{sx:{p:2,borderRadius:2,borderLeft:"4px solid",borderColor:"success.main",height:"100%"},children:[i.jsx(k,{sx:{display:"flex",alignItems:"center",mb:1},children:i.jsx(y,{variant:"subtitle1",color:"text.secondary",fontWeight:"medium",children:"Total Revenue"})}),i.jsxs(y,{variant:"h4",sx:{fontWeight:"bold",color:"success.dark"},children:["",h.toLocaleString()]}),i.jsx(y,{variant:"body2",color:"text.secondary",sx:{mt:1},children:"Gross revenue from all sales"})]})}),i.jsx(P,{item:!0,xs:12,sm:6,md:3,children:i.jsxs(M,{sx:{p:2,borderRadius:2,borderLeft:"4px solid",borderColor:"info.main",height:"100%"},children:[i.jsx(k,{sx:{display:"flex",alignItems:"center",mb:1},children:i.jsx(y,{variant:"subtitle1",color:"text.secondary",fontWeight:"medium",children:"Total Products"})}),i.jsx(y,{variant:"h4",sx:{fontWeight:"bold",color:"info.dark"},children:c}),i.jsx(y,{variant:"body2",color:"text.secondary",sx:{mt:1},children:"Products in catalog"})]})}),i.jsx(P,{item:!0,xs:12,sm:6,md:3,children:i.jsxs(M,{sx:{p:2,borderRadius:2,borderLeft:"4px solid",borderColor:"secondary.main",height:"100%"},children:[i.jsx(k,{sx:{display:"flex",alignItems:"center",mb:1},children:i.jsx(y,{variant:"subtitle1",color:"text.secondary",fontWeight:"medium",children:"Average Order Value"})}),i.jsxs(y,{variant:"h4",sx:{fontWeight:"bold",color:"secondary.dark"},children:["",f.toLocaleString(void 0,{maximumFractionDigits:0})]}),i.jsx(y,{variant:"body2",color:"text.secondary",sx:{mt:1},children:"Average revenue per order"})]})})]}),i.jsx(P,{container:!0,spacing:3,children:i.jsx(P,{item:!0,xs:12,md:8,children:i.jsxs(M,{sx:{p:2},children:[i.jsx(y,{variant:"h6",gutterBottom:!0,children:"Orders Overview"}),i.jsx(Qt,{width:"100%",height:300,children:i.jsxs(si,{data:b,margin:{top:5,right:30,left:20,bottom:5},children:[i.jsx(nn,{strokeDasharray:"3 3"}),i.jsx(Yt,{dataKey:"date",tickFormatter:v=>new Date(v).toLocaleDateString("en-US",{month:"short",day:"numeric"}),interval:2}),i.jsx(Jt,{}),i.jsx(er,{labelFormatter:v=>new Date(v).toLocaleDateString(),formatter:v=>[`${v} orders`,"Orders"]}),i.jsx(tr,{}),i.jsx(Ie,{type:"monotone",dataKey:"orders",name:"Orders",stroke:"#8884d8",activeDot:{r:8}})]})})]})})}),i.jsxs(P,{container:!0,spacing:3,sx:{mt:1},children:[i.jsx(P,{item:!0,xs:12,md:8,children:i.jsx(pi,{inventoryLevels:s,loading:l.inventoryLevels})}),i.jsx(P,{item:!0,xs:12,md:4,children:i.jsx(hi,{maxAlertsInWidget:5,onManualAdjustment:v=>{console.log("Manual adjustment for category group:",v)},onViewCategoryGroup:v=>{console.log("View category group:",v)}})})]}),i.jsxs(P,{container:!0,spacing:3,sx:{mt:1},children:[i.jsx(P,{item:!0,xs:12,md:4,children:i.jsx(ci,{products:r,loading:n})}),i.jsx(P,{item:!0,xs:12,md:4,children:i.jsx(ui,{products:r,loading:n})})]})]})};export{wi as DashboardPage};
